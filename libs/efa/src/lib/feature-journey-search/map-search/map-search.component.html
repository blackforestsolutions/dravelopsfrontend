<dravelopssharedfrontend-theme-emitter #theme></dravelopssharedfrontend-theme-emitter>
<div class='map-wrapper'>
  <ng-container *ngIf='(polygon$ | async) | polygon as polygon; else this.loading'>
    <div leaflet
         [leafletOptions]='polygon | mapOptions: this.theme.primaryColor'
         [leafletFitBounds]='polygon.getBounds()'
         [leafletMinZoom]='3'
         (leafletMapReady)='onMapReadyEvent($event)'
         (leafletClick)='onMapClickEvent($event.latlng)'
         class='map'
         data-cy='map-search'
    >
    </div>
  </ng-container>
</div>

<ng-template #loading>
  <dravelopssharedfrontend-loading></dravelopssharedfrontend-loading>
</ng-template>
